define(["validateExt","alphanumeric"],function(){function e(){var e=$("form");e.validate({errorClass:"ElementForm-label--error"}),$.each($("input[date]"),function(e){var t=$(this).attr("data-rule-mindate").split("/"),n=$(this).attr("data-rule-maxdate").split("/"),r=new Date(t[2],t[1]-1,t[0]),i=new Date(n[2],n[1]-1,n[0]);$(this).datepicker({dateFormat:"dd/mm/yy",minDate:r,maxDate:i})}),$.each($('input[type="password"]'),function(){var e=$(this),t=$(e.attr("data-reference-confirm"))||"";t.length>0&&t.rules("add",{equalTo:"#"+$(this).attr("id")})}),$("input[number]").numeric(),$("input[date]").numeric({allow:"/"}),$("select").on("change",r),$('input[type="checkbox"]').each(function(){var e=$(this);i(e)}),setTimeout(function(){$("select").each(function(){var e=$(this);e.trigger("change")})},500),e.each(function(){var e=$(this),n=e.find('button[type="submit"]');e.data("custom-form")||n.length>0&&n.on("click",{form:e},t)})}function t(e){e.preventDefault();var t=e.data.form,r=t.data("is-ajax")||!1,i=t.data("tracking-category"),s=t.data("tracking-action"),o=t.data("tracking-label");t.valid()&&(r?($.post(t.attr("action"),t.serialize()).done(function(e){e.status_code!=0?parseErrors(e):n(i,s,o)}).fail(function(){}),i&&n(i,s,o)):(i&&n(i,s,o),t.submit()))}function n(e,t,n){ga("send","event",e,t,n)}function r(){var e=$(this);e.parent().find(".ElementForm-selectText").html(e.find("option:selected").html())}function i(e){var t=e.parents(".ElementForm");t.find(".ElementForm-contentCheckBox").on("click",o),t.find("label").on("click",s)}function s(){var e=$(this),t=e.parents(".ElementForm"),n=t.find("input"),r=t.find(".ElementForm-contentCheckBox");t.hasClass("is-checked")?(t.removeClass("is-checked"),r.removeClass("is-checked"),n.removeAttr("checked")):(t.addClass("is-checked"),r.addClass("is-checked"),n.attr("checked",!0)),n.trigger("click")}function o(){var e=$(this),t=e.parents(".ElementForm"),n=e.find("input");e.hasClass("is-checked")?(t.find(".ElementForm-contentCheckBox").removeClass("is-checked"),t.removeClass("is-checked"),n.removeAttr("checked")):(t.find(".ElementForm-contentCheckBox").addClass("is-checked"),t.addClass("is-checked"),n.attr("checked",!0))}return{setup:e}});